"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.useNullableRenderData = void 0;
var react_1 = require("react");
var streamlit_component_lib_1 = require("streamlit-component-lib");
/**
 * Returns `RenderData` received from Streamlit after the first render event received.
 */
var useNullableRenderData = function () {
    var _a = (0, react_1.useState)(), renderData = _a[0], setRenderData = _a[1];
    (0, react_1.useEffect)(function () {
        var onRenderEvent = function (event) {
            var renderEvent = event;
            setRenderData(renderEvent.detail);
        };
        // Set up event listeners, and signal to Streamlit that we're ready.
        // We won't render the component until we receive the first RENDER_EVENT.
        streamlit_component_lib_1.Streamlit.events.addEventListener(streamlit_component_lib_1.Streamlit.RENDER_EVENT, onRenderEvent);
        streamlit_component_lib_1.Streamlit.setComponentReady();
        var cleanup = function () {
            streamlit_component_lib_1.Streamlit.events.removeEventListener(streamlit_component_lib_1.Streamlit.RENDER_EVENT, onRenderEvent);
        };
        return cleanup;
    }, []);
    return renderData;
};
exports.useNullableRenderData = useNullableRenderData;
